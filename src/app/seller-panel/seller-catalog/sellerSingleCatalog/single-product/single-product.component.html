


<!-- Button to open modal (for demonstration) -->
<!-- Modal Structure -->
<div class="modal" *ngIf="isModalOpen">
  <div class="modal-content">
    <!-- <div class="modal-header"></div> -->
     <div class="text-cente">
      <i style="color: blue;" class="bi bi-rocket-takeoff"></i>
     </div> 
    <div class="modal-message">Are, you sure you want to submit this Catalog</div>

    <div class="d-flex justify-content-center">
      <button mat-raised-button (click)="closeModal()" class="mx-2">Cancel</button>
      <button mat-raised-button (click)="confirmAction()" color="primary" class="mx-2">Submit</button>
    </div>
    
  </div>
</div>




  
  <!-- <div class="container mt-4">
    <h3>Dynamic Form</h3>
    <form [formGroup]="dynamicForm" (ngSubmit)="onSubmit()">
      <div *ngFor="let field of formConfig" class="mb-3">
        <label [for]="field.identifier" class="form-label">{{ field.name }}</label>
  

         <div>
          <input
          *ngIf="field.type === 'text'"
          type="text"
          [formControlName]="field.identifier"
          [id]="field.identifier"
          class="form-control"
          [placeholder]="field.description"
        />
        
         </div>
       
        
    
        <div>
          <select *ngIf="field.type === 'dropdown'" [formControlName]="field.identifier" [id]="field.identifier"
            class="form-select">
            <option *ngFor="let option of field.values" [value]="option">{{ option }}</option>
        
        
          </select>
         
          <div *ngIf="dynamicForm.get(field.identifier)?.touched && dynamicForm.get(field.identifier)?.invalid"
            class="text-danger">
            <small *ngIf="dynamicForm.get(field.identifier)?.errors?.['required']">This {{field}} is required.</small>
            <small *ngIf="dynamicForm.get(field.identifier)?.errors?.['min']">Minimum value is {{ field.min }}.</small>
            <small *ngIf="dynamicForm.get(field.identifier)?.errors?.['max']">Maximum value is {{ field.max }}.</small>
          </div>
        </div>
        </div>
        
  
      <button type="submit" class="btn btn-primary" [disabled]="dynamicForm.invalid">Submit</button>
    </form>
  </div> -->

  <!-- <form [formGroup]="manufacturerForm" (ngSubmit)="save()">
    <div *ngFor="let field of fieldConfig?.fields">
      <div>
        <label [for]="field.identifier">{{ field.name }}</label>
  
      
         <div *ngIf="field.type === 'text'">
        <input  [id]="field.identifier" [formControlName]="field.identifier" />
      </div>
  
        
        <select *ngIf="field.type === 'dropdown'" [id]="field.identifier" [formControlName]="field.identifier">
          <option *ngFor="let option of field.values" [value]="option">{{ option }}</option>
        </select>

         
  
        <div *ngIf="getControl(field.identifier)?.invalid && getControl(field.identifier)?.touched" class="text-danger">
          <small *ngIf="getControl(field.identifier)?.hasError('required')">This field is required.</small>
        </div>
      </div>


      <div >
        <input  [id]="field.identifier" [formControlName]="field.identifier" />
      </div>

    </div>

   
  
    <button type="submit" [disabled]="!manufacturerForm.valid">Save</button>
  </form>
</div>

<button mat-raised-button (click)="loadManufacturerDetails(1)" >loadManufacturerDetails</button>
 -->



<!-- 
 <div class="container bg-white mt-3 p-3" style="border-radius:10px ;">

  <h3>Dynamic Form Rendering</h3>


  <form [formGroup]="dynamicForm" (ngSubmit)="onSubmit()">
    <div *ngFor="let field of formConfig" class="mb-3">
      <label [for]="field.identifier" class="form-label">{{ field.name }}</label>
  
      <div>
       
        <input
          *ngIf="field.type === 'text'"
          type="text"
          [formControlName]="field.identifier"
          [id]="field.identifier"
          class="form-control"
          [placeholder]="field.description"
        />
      </div>
  
      <div>
        <select
          *ngIf="field.type === 'dropdown'"
          [formControlName]="field.identifier"
          [id]="field.identifier"
          class="form-select"
        >
          <option *ngFor="let option of field.values" [value]="option">{{ option }}</option>
        </select>
      </div>
  
        <div>
            <div *ngIf="field.type === 'multi-select'" class="form-check">
              <div *ngFor="let option of field.values">
                <input
                  type="checkbox"
                  class="form-check-input"
                  [id]="field.identifier + '_' + option"
                  [value]="option"
                  [checked]="dynamicForm.get(field.identifier)?.value?.includes(option)"
                  (change)="onCheckboxChange($event, field)"
                />
                <label class="form-check-label" [for]="field.identifier + '_' + option">{{ option }}</label>
              </div>
        </div>

            <div *ngIf="field.type === 'multi-select'" class="btn-group" role="group" aria-label="Multi-select toggle button group">
              <div *ngFor="let option of field.values">
                <input
                  type="checkbox"
                  class="btn-check"
                  [id]="field.identifier + '_' + option"
                  [value]="option"
                  [checked]="dynamicForm.get(field.identifier)?.value?.includes(option)"
                  (change)="onCheckboxChange($event, field)"
                  autocomplete="off"
                />
                <label
                  class="btn btn-outline-primary"
                  [for]="field.identifier + '_' + option"
                >
                  {{ option }}
                </label>
              </div>
            </div>
    

      </div>
  
      <div *ngIf="dynamicForm.get(field.identifier)?.touched && dynamicForm.get(field.identifier)?.invalid" class="text-danger">
        <small *ngIf="dynamicForm.get(field.identifier)?.errors?.['required']">
          {{ field.name }} is required.
        </small>
        <small *ngIf="dynamicForm.get(field.identifier)?.errors?.['min']">
          Minimum value is {{ field.min }}.
        </small>
        <small *ngIf="dynamicForm.get(field.identifier)?.errors?.['max']">
          Maximum value is {{ field.max }}.
        </small>
      </div>
    </div>
    <button type="submit" class="btn btn-primary" [disabled]="dynamicForm.invalid">Submit</button>
  </form>

  </div>



  <button mat-raised-button (click)="loadSavedData()">loadSavedData</button>
   -->
  

   <div class="row container bg-white mt-3 p-3" style="border-radius:10px ;">

       <div class="col-md-8">
             <form [formGroup]="productFormBuilder" (ngSubmit)="onSubmit()" >

                <div class="row mb-3">
                  
                  <div class="col-md-6"  *ngFor="let field of formConfig">
                      <label [for]="field.identifier" class="form-label fs13">{{ field.name }}</label>

                          <input
                          *ngIf="field.type === 'text'"
                          type="text"
                          [formControlName]="field.identifier"
                          [id]="field.identifier"
                          class="form-control custom-height"
                          [placeholder]="field.description"
                          aria-label="file example"
                          [ngClass]="{
                            'is-invalid': productFormBuilder.get(field.identifier)?.touched &&
                                        productFormBuilder.get(field.identifier)?.invalid
                          }"
                        />
                    

                        <div>
                          <select
                            *ngIf="field.type === 'dropdown'"
                            [formControlName]="field.identifier"
                            [id]="field.identifier"
                            class="form-select"
                            [ngClass]="{
                              'is-invalid': productFormBuilder.get(field.identifier)?.touched &&
                                           productFormBuilder.get(field.identifier)?.invalid
                            }"
                          >
                          <option selected disabled value="">select...</option>
                            <option *ngFor="let option of field.values" [value]="option">{{ option }}</option>
                          </select>
                        </div>
                      
                        

                       <div *ngIf="field.type === 'multi-select'" class="form-check">
                        <div 
                          class="overflow-auto border rounded p-2 d-flex flex-column" 
                          style="height: 100px; width: 310px;">
                          <div 
                            *ngFor="let option of field.values" 
                            class="form-check">
                            <input
                              type="checkbox"
                              class="form-check-input"
                              [id]="field.identifier + '_' + option"
                              [value]="option"
                              [checked]="productFormBuilder.get(field.identifier)?.value?.includes(option)"
                              (change)="onCheckboxChange($event, field)"
                              
                            />
                            <label 
                              class="form-check-label" 
                              [for]="field.identifier + '_' + option">
                              {{ option }}
                            </label>
                          </div>
                        </div>
                      </div>
                      
                      <!-- Mutliple Selection with Button Group Start -->
                      <!-- <div *ngIf="field.type === 'multi-select'" class="form-check">
                        <div 
                          class="overflow-auto border rounded p-2 d-flex flex-column" 
                          style="height: 100px; width: 310px;">

                          <div *ngIf="field.type === 'multi-select'" class="btn-group" role="group" aria-label="Multi-select toggle button group">
                            <div *ngFor="let option of field.values">
                              <input 
                                type="checkbox"
                                class="btn-check btn-sm"
                                [id]="field.identifier + '_' + option"
                                [value]="option"
                                [checked]="productFormBuilder.get(field.identifier)?.value?.includes(option)"
                                (change)="onCheckboxChange($event, field)"
                                autocomplete="off"
                              />
                              <label
                                class="btn btn-outline-primary"
                                [for]="field.identifier + '_' + option"
                              >
                                {{ option }}
                              </label>
                            </div>
                          </div>
                          </div>
                          </div> -->
                      <!-- Mutliple Selection with Button Group End -->


                      <div *ngIf="productFormBuilder.get(field.identifier)?.touched && productFormBuilder.get(field.identifier)?.invalid"
                        class="text-danger fs12">
                        <small *ngIf="productFormBuilder.get(field.identifier)?.errors?.['required']">
                          {{ field.name }} is required.
                        </small>
                        <small *ngIf="productFormBuilder.get(field.identifier)?.errors?.['min']">
                          Minimum value is {{ field.min }}.
                        </small>
                        <small *ngIf="productFormBuilder.get(field.identifier)?.errors?.['max']">
                          Maximum value is {{ field.max }}.
                        </small>
                      </div>
                    </div>

                </div>            
            <button type="submit" class="btn btn-primary" >Submit</button>
          </form>

       </div>











       <div class="col-md-4">
        <button mat-raised-button (click)="loadProductData()" >Load Data</button>
       </div>


   </div>